# Prometheus Configuration - scrapes metrics from app and Jenkins every 15s.

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

rule_files:
  - "alert_rules.yml"

# Scrape targets
scrape_configs:

  # Prometheus self-monitoring
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # LLM Flask Application
  - job_name: "llm-app"
    metrics_path: "/metrics"
    static_configs:
      - targets: ["llm-app:5000"]
        labels:
          service: "llm-text-analysis"
          environment: "production"

  # Jenkins (requires Prometheus plugin)
  - job_name: "jenkins"
    metrics_path: "/prometheus/"
    static_configs:
      - targets: ["jenkins:8080"]
        labels:
          service: "jenkins-ci"
